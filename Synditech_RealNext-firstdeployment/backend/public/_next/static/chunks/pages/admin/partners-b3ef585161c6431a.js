(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7029],{90263:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/partners",function(){return r(64507)}])},90618:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(85893);let a=r(67294).forwardRef((e,t)=>{let{children:r,variant:a="primary",size:s="md",className:o="",isLoading:l=!1,disabled:i,...c}=e;return(0,n.jsxs)("button",{ref:t,className:"\n        ".concat("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95 ring-offset-background"," \n        ").concat({primary:"bg-primary text-[#0E1117] hover:bg-primary/90 shadow-[0_0_15px_rgba(249,115,22,0.3)] hover:shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"}[a]," \n        ").concat({sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}[s]," \n        ").concat(l?"opacity-70 cursor-wait":"","\n        ").concat(o,"\n      "),disabled:i||l,...c,children:[l&&(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})});a.displayName="Button"},14404:function(e,t,r){"use strict";r.d(t,{Ol:function(){return s},SZ:function(){return l},Zb:function(){return a},aY:function(){return i},eW:function(){return c},ll:function(){return o}});var n=r(85893);r(67294);let a=e=>{let{children:t,className:r="",hover:a=!0,...s}=e;return(0,n.jsx)("div",{className:"\n        bg-card text-card-foreground rounded-xl border border-border/50\n        ".concat(a?"hover:border-primary/50 transition-colors duration-300":""," \n        ").concat(r,"\n      "),...s,children:t})},s=e=>{let{children:t,className:r="",...a}=e;return(0,n.jsx)("div",{className:"p-6 pb-2 ".concat(r),...a,children:t})},o=e=>{let{children:t,className:r="",...a}=e;return(0,n.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight ".concat(r),...a,children:t})},l=e=>{let{children:t,className:r="",...a}=e;return(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-1.5 ".concat(r),...a,children:t})},i=e=>{let{children:t,className:r="",...a}=e;return(0,n.jsx)("div",{className:"p-6 pt-2 ".concat(r),...a,children:t})},c=e=>{let{children:t,className:r="",...a}=e;return(0,n.jsx)("div",{className:"flex items-center p-6 pt-0 ".concat(r),...a,children:t})}},26003:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(85893);let a=r(67294).forwardRef((e,t)=>{let{className:r="",error:a,label:s,...o}=e;return(0,n.jsxs)("div",{className:"w-full",children:[s&&(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:s}),(0,n.jsx)("input",{className:"\n          flex h-10 w-full rounded-lg border border-input bg-background/50 px-3 py-2 text-sm \n          ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium \n          placeholder:text-muted-foreground \n          focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\n          disabled:cursor-not-allowed disabled:opacity-50\n          transition-all duration-200\n          ".concat(a?"border-destructive focus-visible:ring-destructive":"focus:border-primary/50","\n          ").concat(r,"\n        "),ref:t,...o}),a&&(0,n.jsx)("p",{className:"mt-1 text-xs text-destructive",children:a})]})});a.displayName="Input"},64507:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(85893),a=r(67294),s=r(80195),o=r(21438),l=r(14404),i=r(90618),c=r(26003),d=r(78680),u=r(49633),m=r(10050),x=r(5362),f=r(48974),h=r(76249),p=r(86501);function b(){let[e,t]=(0,a.useState)([]),[r,b]=(0,a.useState)(!0),[g,v]=(0,a.useState)(""),[j,w]=(0,a.useState)(!1),[N,y]=(0,a.useState)(null),[k,C]=(0,a.useState)({name:"",email:"",domain:"",commission_rate:10});(0,a.useEffect)(()=>{E()},[]);let E=async()=>{try{b(!0);let e=await o.Sb.getPartners();e.data.success&&t(e.data.data)}catch(e){p.ZP.error("Failed to load partners"),console.error(e)}finally{b(!1)}},Z=async e=>{e.preventDefault();try{N?(await o.Sb.updatePartner(N,k),p.ZP.success("Partner updated successfully")):(await o.Sb.createPartner(k),p.ZP.success("Partner created successfully")),w(!1),P(),E()}catch(e){p.ZP.error(N?"Failed to update partner":"Failed to create partner"),console.error(e)}},_=e=>{y(e.id),C({name:e.name,email:e.email,domain:e.domain||"",commission_rate:e.commission_rate}),w(!0)},L=async e=>{if(confirm("Are you sure you want to delete this partner? This action cannot be undone."))try{await o.Sb.deletePartner(e),p.ZP.success("Partner deleted"),E()}catch(e){p.ZP.error("Failed to delete partner")}},P=()=>{y(null),C({name:"",email:"",domain:"",commission_rate:10})},S=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.email.toLowerCase().includes(g.toLowerCase()));return(0,n.jsx)(s.Z,{children:(0,n.jsxs)("div",{className:"container-custom py-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold font-display text-foreground",children:"Partner Management"}),(0,n.jsx)("p",{className:"mt-1 text-muted-foreground",children:"Manage resellers, affiliates, and white-label partners."})]}),(0,n.jsxs)(i.z,{onClick:()=>{P(),w(!0)},children:[(0,n.jsx)(d.Z,{className:"w-5 h-5 mr-2"}),"Add Partner"]})]}),(0,n.jsx)(l.Zb,{className:"mb-6 p-4",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),(0,n.jsx)(c.I,{placeholder:"Search partners...",className:"pl-10",value:g,onChange:e=>v(e.target.value)})]})}),(0,n.jsx)("div",{className:"bg-card border border-border rounded-xl overflow-hidden shadow-sm",children:(0,n.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,n.jsx)("thead",{className:"bg-muted/50 text-xs uppercase text-muted-foreground font-semibold",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-4",children:"Partner"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Commission"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Referral Code"}),(0,n.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-border",children:r?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",className:"p-8 text-center text-muted-foreground",children:"Loading partners..."})}):0===S.length?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",className:"p-8 text-center text-muted-foreground",children:"No partners found."})}):S.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-muted/10 transition-colors",children:[(0,n.jsxs)("td",{className:"px-6 py-4",children:[(0,n.jsx)("div",{className:"font-medium text-foreground",children:e.name}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["active"===e.status?(0,n.jsx)(m.Z,{className:"w-3 h-3 mr-1"}):(0,n.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),e.status]})}),(0,n.jsxs)("td",{className:"px-6 py-4 text-sm text-foreground",children:[e.commission_rate,"%"]}),(0,n.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-muted-foreground",children:e.referral_code}),(0,n.jsxs)("td",{className:"px-6 py-4 text-right space-x-2",children:[(0,n.jsx)("button",{onClick:()=>_(e),className:"text-primary hover:text-primary/80 transition-colors",children:(0,n.jsx)(f.Z,{className:"w-5 h-5"})}),(0,n.jsx)("button",{onClick:()=>L(e.id),className:"text-destructive hover:text-destructive/80 transition-colors",children:(0,n.jsx)(h.Z,{className:"w-5 h-5"})})]})]},e.id))})]})}),j&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:(0,n.jsxs)("div",{className:"bg-card w-full max-w-md rounded-xl shadow-2xl p-6 border border-border m-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h3",{className:"text-xl font-bold font-display text-foreground",children:N?"Edit Partner":"Create New Partner"}),(0,n.jsx)("button",{onClick:()=>w(!1),className:"text-muted-foreground hover:text-foreground",children:(0,n.jsx)(x.Z,{className:"w-6 h-6"})})]}),(0,n.jsxs)("form",{onSubmit:Z,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Company Name"}),(0,n.jsx)(c.I,{required:!0,value:k.name,onChange:e=>C({...k,name:e.target.value}),placeholder:"Acme Resellers Inc."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email Address"}),(0,n.jsx)(c.I,{required:!0,type:"email",value:k.email,onChange:e=>C({...k,email:e.target.value}),placeholder:"partner@example.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Custom Domain (Optional)"}),(0,n.jsx)(c.I,{value:k.domain,onChange:e=>C({...k,domain:e.target.value}),placeholder:"partners.acme.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Commission Rate (%)"}),(0,n.jsx)(c.I,{type:"number",min:"0",max:"100",required:!0,value:k.commission_rate,onChange:e=>C({...k,commission_rate:parseFloat(e.target.value)})})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,n.jsx)(i.z,{variant:"outline",type:"button",onClick:()=>w(!1),children:"Cancel"}),(0,n.jsx)(i.z,{type:"submit",children:N?"Update Partner":"Create Partner"})]})]})]})})]})})}},10050:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=a},49633:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=a},48974:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});t.Z=a},78680:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=a},76249:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=a},5362:function(e,t,r){"use strict";var n=r(67294);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=a}},function(e){e.O(0,[1664,9638,195,9774,2888,179],function(){return e(e.s=90263)}),_N_E=e.O()}]);