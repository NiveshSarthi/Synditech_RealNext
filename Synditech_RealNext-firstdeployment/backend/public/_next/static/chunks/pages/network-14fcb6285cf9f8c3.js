(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6784],{34262:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/network",function(){return r(65433)}])},65433:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s=r(85893),n=r(67294),a=r(11163),l=r(80195),i=r(1153),o=r(21438),c=r(86501),d=r(41113),m=r(57584),x=r(20445),h=r(10050),u=r(5362),g=r(78357);let b=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))});var f=r(49633);let p=e=>{var t,r,n;let{agent:a,onConnect:l,onViewProfile:i,connectionStatus:o}=e;return(0,s.jsx)("div",{className:"bg-[#161B22] border border-white/5 overflow-hidden shadow-soft rounded-xl hover:border-primary/30 transition-all duration-300",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-tr from-primary/20 to-orange-600/20 border border-primary/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg font-bold text-primary",children:(null===(r=a.name)||void 0===r?void 0:null===(t=r.charAt(0))||void 0===t?void 0:t.toUpperCase())||"?"})})}),(0,s.jsxs)("div",{className:"ml-4 flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white font-display",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:a.business_name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:a.location}),(0,s.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-1 text-primary"}),a.total_deals||0," deals"]}),(0,s.jsxs)("div",{className:"ml-4 flex items-center text-sm text-gray-400",children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 ".concat(a.trust_score>=4?"bg-green-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":a.trust_score>=3?"bg-yellow-500":"bg-red-500")}),"Trust: ",a.trust_score||0,"/5"]})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 max-w-[60%] truncate",children:null===(n=a.specializations)||void 0===n?void 0:n.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-white/5 rounded px-2 py-0.5 text-xs mr-2 mb-1",children:e},t))}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>i(a),className:"inline-flex items-center px-3 py-1.5 border border-white/10 text-sm leading-4 font-medium rounded-md text-gray-300 bg-black/20 hover:bg-white/5 hover:text-white transition-colors focus:outline-none",children:"Profile"}),"none"===o&&(0,s.jsxs)("button",{onClick:()=>l(a),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-black bg-primary hover:bg-orange-600 focus:outline-none shadow-glow-sm transition-all",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"Connect"]}),"pending"===o&&(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 text-sm leading-4 font-medium text-yellow-500 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"Pending"]}),"connected"===o&&(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 text-sm leading-4 font-medium text-green-500 bg-green-500/10 border border-green-500/20 rounded-md",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"Connected"]})]})]})]})})},v=e=>{var t,r;let{request:n,onAccept:a,onReject:l}=e;return(0,s.jsx)("div",{className:"bg-[#161B22] border border-white/5 shadow-soft rounded-xl mb-3",children:(0,s.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-tr from-primary/20 to-orange-600/20 border border-primary/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-bold text-primary",children:(null===(r=n.requesting_agent_name)||void 0===r?void 0:null===(t=r.charAt(0))||void 0===t?void 0:t.toUpperCase())||"?"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-white font-display",children:n.requesting_agent_name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[n.business_name," • ",n.location]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>a(n.connectionId),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-black bg-green-500 hover:bg-green-600 shadow-[0_0_10px_rgba(34,197,94,0.3)] transition-all",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"Accept"]}),(0,s.jsxs)("button",{onClick:()=>l(n.connectionId),className:"inline-flex items-center px-3 py-1.5 border border-white/10 text-sm leading-4 font-medium rounded-md text-gray-400 bg-black/20 hover:bg-red-500/20 hover:text-red-500 hover:border-red-500/30 transition-all",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})})};function w(){let[e,t]=(0,n.useState)("network"),[r,d]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[h,u]=(0,n.useState)([]),[w,j]=(0,n.useState)(null),[y,N]=(0,n.useState)(!0),[k,_]=(0,n.useState)(""),[Z,C]=(0,n.useState)(!1),{user:E,loading:q}=(0,i.a)(),R=(0,a.useRouter)();(0,n.useEffect)(()=>{q||E?E&&(S(),B(),L()):R.push("/")},[E,q]);let S=async()=>{try{let e=await o.$v.getNetwork();d(e.data.data)}catch(e){console.error("Failed to fetch network:",e)}},B=async()=>{try{let e=await o.$v.getRequests();x(e.data.data)}catch(e){console.error("Failed to fetch requests:",e)}},L=async()=>{try{let e=await o.$v.getStats();j(e.data.data)}catch(e){console.error("Failed to fetch network stats:",e)}finally{N(!1)}},P=async()=>{if(k.trim())try{let e=await o.$v.searchAgents({q:k});u(e.data.data),C(!0)}catch(e){console.error("Failed to search agents:",e),c.ZP.error("Failed to search agents")}},A=async e=>{try{await o.$v.connect(e.id,{connectionType:"professional",notes:"Connected via SyndiTech network"}),c.ZP.success("Connection request sent!"),P()}catch(e){console.error("Failed to send connection request:",e),c.ZP.error("Failed to send connection request")}},M=async e=>{try{await o.$v.acceptRequest(e),c.ZP.success("Connection request accepted!"),B(),S(),L()}catch(e){console.error("Failed to accept request:",e),c.ZP.error("Failed to accept connection request")}},F=async e=>{try{await o.$v.rejectRequest(e),c.ZP.success("Connection request rejected"),B()}catch(e){console.error("Failed to reject request:",e),c.ZP.error("Failed to reject connection request")}},O=e=>{R.push("/network/".concat(e.id))};return y||q?(0,s.jsx)(l.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary shadow-[0_0_15px_rgba(249,115,22,0.5)]"})})}):(0,s.jsx)(l.Z,{children:(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in content-container pb-10",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-display tracking-tight text-white",children:"Agent Network"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Connect with other real estate professionals and collaborate."})]})}),w&&(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Total Connections",value:w.total_connections||0,icon:g.Z},{label:"Collaborations",value:w.completed_collaborations||0,icon:null,emoji:"\uD83E\uDD1D"},{label:"Avg Trust Level",value:"".concat(w.avg_trust_level?w.avg_trust_level.toFixed(1):0,"/5"),icon:null,emoji:"⭐"},{label:"Pending Requests",value:w.pending_requests||0,icon:b}].map((e,t)=>(0,s.jsx)("div",{className:"bg-[#161B22] border border-white/5 rounded-xl p-5 shadow-soft hover:border-primary/30 transition-all duration-300",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-3 bg-black/30 rounded-lg text-primary",children:e.icon?(0,s.jsx)(e.icon,{className:"h-6 w-6"}):(0,s.jsx)("span",{className:"text-xl",children:e.emoji})}),(0,s.jsx)("div",{className:"ml-4 w-0 flex-1",children:(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-400 truncate",children:e.label}),(0,s.jsx)("dd",{className:"text-2xl font-bold text-white font-display mt-1",children:e.value})]})})]})},t))}),(0,s.jsx)("div",{className:"border-b border-white/10",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"network",name:"My Network",count:r.length},{id:"requests",name:"Connection Requests",count:m.length},{id:"discover",name:"Discover Agents",count:null}].map(r=>(0,s.jsxs)("button",{onClick:()=>t(r.id),className:"whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat(e===r.id?"border-primary text-primary":"border-transparent text-gray-400 hover:text-white hover:border-gray-500"),children:[r.name,null!==r.count&&(0,s.jsx)("span",{className:"ml-2 py-0.5 px-2 rounded-full text-xs ".concat(e===r.id?"bg-primary/20 text-primary":"bg-white/5 text-gray-400"),children:r.count})]},r.id))})}),(0,s.jsxs)("div",{className:"min-h-[400px]",children:["network"===e&&(0,s.jsxs)("div",{className:"animate-fade-in",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white font-display mb-4",children:"My Network"}),0===r.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-[#161B22]/50 rounded-xl border border-white/5 border-dashed",children:[(0,s.jsx)(g.Z,{className:"mx-auto h-12 w-12 text-gray-600"}),(0,s.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-300",children:"No connections yet"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start building your professional network by discovering agents."}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("button",{onClick:()=>t("discover"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-glow-sm text-sm font-medium rounded-md text-black bg-primary hover:bg-orange-600 focus:outline-none transition-all",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5 mr-2"}),"Discover Agents"]})})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(e=>(0,s.jsx)(p,{agent:e,connectionStatus:"connected",onConnect:A,onViewProfile:O},e.id))})]}),"requests"===e&&(0,s.jsxs)("div",{className:"animate-fade-in",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white font-display mb-4",children:"Connection Requests"}),0===m.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-[#161B22]/50 rounded-xl border border-white/5 border-dashed",children:[(0,s.jsx)(b,{className:"mx-auto h-12 w-12 text-gray-600"}),(0,s.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-300",children:"No pending requests"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Connection requests from other agents will appear here."})]}):(0,s.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,s.jsx)(v,{request:e,onAccept:M,onReject:F},e.connectionId))})]}),"discover"===e&&(0,s.jsxs)("div",{className:"animate-fade-in",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white font-display mb-4",children:"Discover Agents"}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex max-w-2xl",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(f.Z,{className:"h-5 w-5 text-gray-500"})}),(0,s.jsx)("input",{type:"text",placeholder:"Search agents by name, business, or location...",className:"block w-full pl-10 pr-3 py-2.5 border border-white/10 rounded-l-lg leading-5 bg-black/30 text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary sm:text-sm transition-colors",value:k,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&P()})]})}),(0,s.jsx)("button",{onClick:P,className:"inline-flex items-center px-6 py-2.5 border border-l-0 border-white/10 rounded-r-lg bg-[#161B22] text-gray-300 hover:bg-white/5 hover:text-white focus:outline-none focus:ring-1 focus:ring-primary transition-colors",children:"Search"})]})}),Z&&(0,s.jsx)("div",{children:0===h.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-[#161B22]/50 rounded-xl border border-white/5 border-dashed",children:[(0,s.jsx)(f.Z,{className:"mx-auto h-12 w-12 text-gray-600"}),(0,s.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-300",children:"No agents found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search terms."})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:h.map(e=>(0,s.jsx)(p,{agent:e,connectionStatus:"none",onConnect:A,onViewProfile:O},e.id))})}),!Z&&(0,s.jsxs)("div",{className:"text-center py-20 bg-[#161B22]/50 rounded-xl border border-white/5 border-dashed",children:[(0,s.jsx)(f.Z,{className:"mx-auto h-12 w-12 text-gray-600"}),(0,s.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-300",children:"Search for agents"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter a name, business name, or location to find agents to connect with."})]})]})]})]})})}},10050:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},20445:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},49633:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=n},41113:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=n},57584:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))});t.Z=n},5362:function(e,t,r){"use strict";var s=r(67294);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n}},function(e){e.O(0,[1664,9638,195,9774,2888,179],function(){return e(e.s=34262)}),_N_E=e.O()}]);