(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6164],{59217:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns",function(){return r(34615)}])},90618:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var a=r(85893);let n=r(67294).forwardRef((e,t)=>{let{children:r,variant:n="primary",size:s="md",className:i="",isLoading:o=!1,disabled:l,...c}=e;return(0,a.jsxs)("button",{ref:t,className:"\n        ".concat("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95 ring-offset-background"," \n        ").concat({primary:"bg-primary text-[#0E1117] hover:bg-primary/90 shadow-[0_0_15px_rgba(249,115,22,0.3)] hover:shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"}[n]," \n        ").concat({sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}[s]," \n        ").concat(o?"opacity-70 cursor-wait":"","\n        ").concat(i,"\n      "),disabled:l||o,...c,children:[o&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})});n.displayName="Button"},34615:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(85893),n=r(67294),s=r(11163),i=r(80195),o=r(1153),l=r(21438),c=r(86501),d=r(10050),u=r(21321),m=r(5362),x=r(20445),g=r(50882),h=r(48974),p=r(76249),f=r(62940),b=r(13658),v=r(78680),w=r(52418),j=r(90618);let y=e=>{var t;let{campaign:r,onEdit:n,onSend:s,onView:i,onDelete:o,onAnalytics:l}=e;return(0,a.jsx)("div",{className:"bg-card border border-border/50 rounded-xl overflow-hidden hover:border-primary/50 transition-all duration-300 shadow-soft group",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10 ".concat("running"===r.status?"animate-pulse":""),children:(e=>{switch(e){case"completed":return(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-400"});case"running":return(0,a.jsx)(u.Z,{className:"h-5 w-5 text-blue-400"});case"failed":return(0,a.jsx)(m.Z,{className:"h-5 w-5 text-red-400"});default:return(0,a.jsx)(x.Z,{className:"h-5 w-5 text-gray-400"})}})(r.status)}),(0,a.jsxs)("div",{children:[r.name||r.template_name||"Untitled Campaign",(0,a.jsxs)("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["Created ",new Date(r.created_at).toLocaleDateString()]})]})]}),(0,a.jsx)("span",{className:"inline-flex px-2.5 py-0.5 text-xs font-semibold rounded-full border ".concat((e=>{switch(e){case"completed":return"bg-green-500/10 text-green-400 border-green-500/20";case"running":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"failed":return"bg-red-500/10 text-red-400 border-red-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}})(r.status)),children:r.status?r.status.toUpperCase():"DRAFT"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2 mb-6 h-10",children:r.description||"No description provided"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6 bg-[#0E1117] rounded-lg p-3 border border-border/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-semibold text-gray-500",children:"RECIPIENTS"}),(0,a.jsx)("p",{className:"text-lg font-bold text-white",children:r.total_contacts||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-semibold text-gray-500",children:"SENT"}),(0,a.jsx)("p",{className:"text-lg font-bold text-primary",children:(null===(t=r.stats)||void 0===t?void 0:t.sent)||0})]})]}),r.is_ab_test&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-500/10 text-purple-400 border border-purple-500/20",children:"A/B Test Active"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:["draft"===r.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>s(r),className:"p-2 rounded-lg text-gray-400 hover:text-green-400 hover:bg-green-500/10 transition-colors",title:"Send Campaign",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>n(r),className:"p-2 rounded-lg text-gray-400 hover:text-primary hover:bg-primary/10 transition-colors",title:"Edit",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>o(r),className:"p-2 rounded-lg text-gray-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Delete",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})]}):(0,a.jsx)("button",{onClick:()=>i(r),className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/10 transition-colors",title:"View Details",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})}),"completed"===r.status&&(0,a.jsx)("button",{onClick:()=>l(r),className:"p-2 rounded-lg text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 transition-colors",title:"Analytics",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]}),"draft"===r.status?(0,a.jsxs)(j.z,{onClick:()=>s(r),variant:"primary",className:"h-8 text-xs px-3",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1.5"})," Launch"]}):(0,a.jsx)(j.z,{onClick:()=>i(r),variant:"outline",className:"h-8 text-xs px-3",children:"Details"})]})]})})},N=e=>{let{title:t,value:r,icon:n,color:s,trend:i}=e;return(0,a.jsx)("div",{className:"bg-card border border-border/50 rounded-xl p-5 shadow-soft hover:border-primary/30 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400 truncate",children:t}),(0,a.jsxs)("div",{className:"flex items-baseline mt-2",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-white font-display",children:r}),i&&(0,a.jsxs)("span",{className:"ml-2 text-xs font-medium ".concat(i.positive?"text-green-400":"text-red-400"),children:[i.positive?"+":"",i.value,"%"]})]})]}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-".concat(s,"/10 text-").concat(s),children:(0,a.jsx)(n,{className:"h-6 w-6"})})]})})};function k(){let[e,t]=(0,n.useState)([]),[r,m]=(0,n.useState)(!0),[x,g]=(0,n.useState)(null),{user:h,loading:p}=(0,o.a)(),f=(0,s.useRouter)();(0,n.useEffect)(()=>{p||h?h&&(k(),_()):f.push("/")},[h,p]);let k=async()=>{try{let e=(await l.qd.getCampaigns({limit:50})).data;t(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Failed to fetch campaigns:",e),t([{_id:"1",name:"Diwali Offer 2024",status:"completed",stats:{sent:1180,read:600},total_contacts:1200,created_at:"2023-10-15",description:"Festive season promotional blast"},{_id:"2",name:"New Project Launch",status:"running",stats:{sent:2400,read:1200},total_contacts:5e3,created_at:"2023-11-01",description:"Announcing the new luxury towers in downtown."}])}finally{m(!1)}},_=async()=>{try{let e=(await l.qd.getCampaigns()).data,t={total_campaigns:e.length,completed_campaigns:e.filter(e=>"completed"===e.status).length,running_campaigns:e.filter(e=>"running"===e.status).length,avg_response_rate:e.length>0?(e.reduce((e,t)=>{var r;return e+((null===(r=t.stats)||void 0===r?void 0:r.read)||0)},0)/e.reduce((e,t)=>{var r;return e+((null===(r=t.stats)||void 0===r?void 0:r.sent)||1)},0)*100).toFixed(1):0};g(t)}catch(e){g({total_campaigns:12,completed_campaigns:8,running_campaigns:1,avg_response_rate:18.5})}},C=async e=>{confirm('Are you sure you want to send the campaign "'.concat(e.name,'"?'))&&(c.ZP.success("Campaign launched successfully!"),k())},E=async e=>{if(confirm('Are you sure you want to delete the campaign "'.concat(e.name,'"?')))try{await l.qd.deleteCampaign(e._id||e.id),c.ZP.success("Campaign deleted"),k()}catch(e){c.ZP.error("Failed to delete campaign")}},Z=e=>f.push("/campaigns/".concat(e.id,"/edit")),L=e=>f.push("/campaigns/".concat(e.id)),A=e=>f.push("/campaigns/".concat(e.id,"/").concat(e.is_ab_test?"ab-test-results":"analytics"));return r||p?(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-8 animate-fade-in content-container",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Campaigns"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Orchestrate high-conversion WhatsApp marketing campaigns."})]}),(0,a.jsxs)(j.z,{onClick:()=>f.push("/campaigns/new"),variant:"primary",className:"shadow-glow-sm",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 mr-2"}),"Create Campaign"]})]}),x&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(N,{title:"Total Campaigns",value:x.total_campaigns,icon:w.Z,color:"blue-500"}),(0,a.jsx)(N,{title:"Completed",value:x.completed_campaigns,icon:d.Z,color:"green-500"}),(0,a.jsx)(N,{title:"Active Now",value:x.running_campaigns,icon:u.Z,color:"orange-500"}),(0,a.jsx)(N,{title:"Avg Response Rate",value:"".concat(x.avg_response_rate,"%"),icon:b.Z,color:"purple-500",trend:{positive:!0,value:2.4}})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:0===e.length?(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsxs)("div",{className:"text-center py-20 bg-card/30 border border-white/5 rounded-2xl border-dashed",children:[(0,a.jsx)("div",{className:"h-20 w-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(w.Z,{className:"h-10 w-10 text-primary"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-white",children:"No campaigns found"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500 max-w-sm mx-auto",children:"Start engaging your audience by creating your first WhatsApp campaign today."}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)(j.z,{onClick:()=>f.push("/campaigns/new"),variant:"primary",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 mr-2"}),"Create First Campaign"]})})]})}):e.map(e=>(0,a.jsx)(y,{campaign:e,onEdit:Z,onSend:C,onView:L,onDelete:E,onAnalytics:A},e._id))})]})})}},10050:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},20445:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},62940:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=n},50882:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))});t.Z=n},48974:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});t.Z=n},21321:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});t.Z=n},78680:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=n},76249:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=n},5362:function(e,t,r){"use strict";var a=r(67294);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n}},function(e){e.O(0,[1664,9638,195,9774,2888,179],function(){return e(e.s=59217)}),_N_E=e.O()}]);