(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9100],{97149:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quick-replies/[id]/edit",function(){return r(94536)}])},94536:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(85893),l=r(67294),a=r(80195),d=r(1153),n=r(11163),o=r(21438),i=r(52913);function c(){let{user:e}=(0,d.a)(),t=(0,n.useRouter)(),{id:r}=t.query,[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!0),[p,b]=(0,l.useState)({title:"",category:"greeting",action:"",replyText:"",displayOrder:0});(0,l.useEffect)(()=>{r&&e&&h()},[r,e]);let h=async()=>{try{let e=await o.rE.getReply(r),t=e.data.data||e.data;b({title:t.title,category:t.category,action:t.action,replyText:t.replyText||t.reply_text,displayOrder:t.displayOrder||t.display_order||0})}catch(e){console.error("Fetch failed:",e),alert("Failed to load quick reply"),t.push("/quick-replies")}finally{x(!1)}},y=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:r}))},g=async e=>{e.preventDefault(),u(!0);try{await o.rE.updateReply(r,p),t.push("/quick-replies")}catch(e){console.error("Update failed:",e),alert("Failed to update quick reply")}finally{u(!1)}};return m?(0,s.jsx)(a.Z,{children:(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>t.back(),className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(i.Z,{className:"h-6 w-6"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Quick Reply"})]}),(0,s.jsx)("div",{className:"bg-white shadow sm:rounded-lg p-6",children:(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",name:"title",required:!0,value:p.title,onChange:y,placeholder:"e.g. Welcome Message",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,s.jsxs)("select",{name:"category",value:p.category,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[(0,s.jsx)("option",{value:"greeting",children:"Greeting"}),(0,s.jsx)("option",{value:"property",children:"Property"}),(0,s.jsx)("option",{value:"schedule",children:"Schedule"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Shortcut / Action ID",(0,s.jsx)("span",{className:"ml-1 text-xs text-gray-400 font-normal",children:"(Used for internal mapping, e.g. /welcome)"})]}),(0,s.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:"/"}),(0,s.jsx)("input",{type:"text",name:"action",required:!0,value:p.action,onChange:y,placeholder:"welcome",className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 sm:text-sm border"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Message Text"}),(0,s.jsx)("textarea",{name:"replyText",required:!0,rows:4,value:p.replyText,onChange:y,placeholder:"Enter the message content...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Display Order"}),(0,s.jsx)("input",{type:"number",name:"displayOrder",value:p.displayOrder,onChange:y,className:"mt-1 block w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t.back(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Update Reply"})]})]})})]})})}},52913:function(e,t,r){"use strict";var s=r(67294);let l=s.forwardRef(function({title:e,titleId:t,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=l}},function(e){e.O(0,[1664,9638,195,9774,2888,179],function(){return e(e.s=97149)}),_N_E=e.O()}]);