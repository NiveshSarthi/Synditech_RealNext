(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{98273:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/templates/new",function(){return t(59482)}])},90618:function(e,r,t){"use strict";t.d(r,{z:function(){return s}});var a=t(85893);let s=t(67294).forwardRef((e,r)=>{let{children:t,variant:s="primary",size:n="md",className:o="",isLoading:l=!1,disabled:i,...c}=e;return(0,a.jsxs)("button",{ref:r,className:"\n        ".concat("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95 ring-offset-background"," \n        ").concat({primary:"bg-primary text-[#0E1117] hover:bg-primary/90 shadow-[0_0_15px_rgba(249,115,22,0.3)] hover:shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"}[s]," \n        ").concat({sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}[n]," \n        ").concat(l?"opacity-70 cursor-wait":"","\n        ").concat(o,"\n      "),disabled:i||l,...c,children:[l&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})});s.displayName="Button"},59482:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var a=t(85893),s=t(67294),n=t(11163),o=t(80195),l=t(1153),i=t(21438),c=t(86501),d=t(52418),m=t(7814),u=t(98523),x=t(52913),g=t(82911),h=t(90618);let p=[{id:"text",name:"Text Message",icon:d.Z},{id:"image",name:"Image Message",icon:m.Z},{id:"document",name:"Document Message",icon:u.Z}],b=["marketing","utility","authentication","transactional"],f=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"pt",name:"Portuguese"},{code:"hi",name:"Hindi"}];function y(){let e=(0,n.useRouter)(),{user:r,loading:t}=(0,l.a)(),[m,y]=(0,s.useState)(!1),[v,j]=(0,s.useState)({name:"",type:"text",category:"marketing",language:"en",content:"",header:"",footer:"",variables:[]}),w=async r=>{if(r.preventDefault(),!v.name||!v.content){c.ZP.error("Please fill in all required fields");return}y(!0);try{let r=[];v.header&&r.push({type:"HEADER",format:"TEXT",text:v.header}),r.push({type:"BODY",text:v.content}),v.footer&&r.push({type:"FOOTER",text:v.footer}),await i.J5.createTemplate({name:v.name,category:v.category.toUpperCase(),language:v.language,components:r}),c.ZP.success("Template created successfully!"),e.push("/templates")}catch(e){var t,a;console.error("Create template error:",e),c.ZP.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to create template")}finally{y(!1)}},N=e=>{let r;let t=/\{\{(\w+)\}\}/g,a=[];for(;null!==(r=t.exec(e));)a.includes(r[1])||a.push(r[1]);j(r=>({...r,content:e,variables:a}))};return t?(0,a.jsx)(o.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})}):r?(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"p-2 rounded-lg bg-card hover:bg-card/80 transition-colors",children:(0,a.jsx)(x.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Create New Template"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Design a WhatsApp message template for your campaigns"})]})]}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-card border border-border/50 rounded-xl p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name *"}),(0,a.jsx)("input",{type:"text",value:v.name,onChange:e=>j(r=>({...r,name:e.target.value})),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"e.g., welcome_message",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),(0,a.jsx)("select",{value:v.category,onChange:e=>j(r=>({...r,category:e.target.value})),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white focus:border-primary focus:ring-1 focus:ring-primary",children:b.map(e=>(0,a.jsx)("option",{value:e,className:"bg-background",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language *"}),(0,a.jsx)("select",{value:v.language,onChange:e=>j(r=>({...r,language:e.target.value})),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white focus:border-primary focus:ring-1 focus:ring-primary",children:f.map(e=>(0,a.jsx)("option",{value:e.code,className:"bg-background",children:e.name},e.code))})]})]})]}),(0,a.jsxs)("div",{className:"bg-card border border-border/50 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Template Type"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>j(r=>({...r,type:e.id})),className:"p-4 rounded-lg border-2 transition-all ".concat(v.type===e.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[(0,a.jsx)(e.icon,{className:"h-8 w-8 mx-auto mb-2 ".concat(v.type===e.id?"text-primary":"text-gray-400")}),(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.name})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-card border border-border/50 rounded-xl p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-primary"}),"Message Content"]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header (Optional)"}),(0,a.jsx)("input",{type:"text",value:v.header,onChange:e=>j(r=>({...r,header:e.target.value})),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"e.g., Welcome to our service!"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message Body *"}),(0,a.jsx)("textarea",{value:v.content,onChange:e=>N(e.target.value),rows:6,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary resize-none",placeholder:"Enter your message content. Use {{variable}} for dynamic content.",required:!0}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Use ","{{variable}}"," syntax for dynamic content. Variables found: ",v.variables.join(", ")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Footer (Optional)"}),(0,a.jsx)("input",{type:"text",value:v.footer,onChange:e=>j(r=>({...r,footer:e.target.value})),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"e.g., Reply STOP to unsubscribe"})]})]})]}),(0,a.jsxs)("div",{className:"bg-card border border-border/50 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Preview"}),(0,a.jsx)("div",{className:"bg-[#0E1117] border border-border rounded-lg p-4 max-w-sm mx-auto",children:(0,a.jsxs)("div",{className:"space-y-2",children:[v.header&&(0,a.jsx)("div",{className:"text-white font-medium",children:v.header}),(0,a.jsx)("div",{className:"text-white whitespace-pre-wrap",children:v.content}),v.footer&&(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:v.footer})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-6 py-3 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)(h.z,{type:"submit",disabled:m,className:"px-8 py-3",children:m?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),"Creating..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"Create Template"]})})]})]})]})}):(e.push("/"),null)}},52913:function(e,r,t){"use strict";var a=t(67294);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});r.Z=s},82911:function(e,r,t){"use strict";var a=t(67294);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});r.Z=s},7814:function(e,r,t){"use strict";var a=t(67294);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});r.Z=s}},function(e){e.O(0,[1664,9638,195,9774,2888,179],function(){return e(e.s=98273)}),_N_E=e.O()}]);